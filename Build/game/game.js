!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("MyLib",[],t):"object"==typeof exports?exports.MyLib=t():e.MyLib=t()}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=23)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config={imageBasePath:"./data/images",soundBasePath:"./data/sounds",renderScale:1,ingredientSlotHeight:61,burnedIngredientsWarningCount:3,increaseLevelTickCount:590,ingredientUiY:640,orderUiY:215,order:{initialOrders:3,maxVisibleOrders:6,minimumOrderDelay:450,indicatorMaxPerRow:4,indicatorIngredientMaxHeight:20,indicatorIngredientSpacing:5,defaultOrderTime:2900,minimumOrderTime:1500,decreaseOrderCountPerLevel:65}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(21),o=function(){function e(){}return e.loadImage=function(e){return new n.Sprite(i.config.imageBasePath+"/"+e)},e.game=e.loadImage("game.png"),e.plate=e.loadImage("plate.png"),e.hamburger=e.loadImage("hamburger.png"),e.burgerTop=e.loadImage("burger_top.png"),e.burgerBottom=e.loadImage("burger_bottom.png"),e.cheese=e.loadImage("cheese.png"),e.egg=e.loadImage("egg.png"),e.lettuce=e.loadImage("lettuce.png"),e.onion=e.loadImage("onion.png"),e.tomato=e.loadImage("tomato.png"),e.check=e.loadImage("check.png"),e.dialogue=e.loadImage("dialogue.png"),e.button=e.loadImage("button.png"),e}();t.Sprites=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.sound=function(){return window.playSound},e.easyMode=function(){return window.easyMode},e}();t.Settings=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),n=r(13),o=function(){function e(){}return e.getIngredients=function(){return[this.burgerBottom,this.burgerTop,this.hamburger,this.egg,this.onion,this.cheese,this.lettuce,this.tomato]},e.hamburger=new n.Ingredient("Hamburger",i.Sprites.hamburger,!0,900),e.burgerTop=new n.Ingredient("Burger top",i.Sprites.burgerTop,null,550),e.burgerBottom=new n.Ingredient("Burger bottom",i.Sprites.burgerBottom,null,550),e.cheese=new n.Ingredient("Cheese",i.Sprites.cheese,!1),e.egg=new n.Ingredient("Fried egg",i.Sprites.egg,!0,700),e.lettuce=new n.Ingredient("Lettuce",i.Sprites.lettuce,!1,0,-10,-5),e.onion=new n.Ingredient("Onion",i.Sprites.onion,null,700,10,5),e.tomato=new n.Ingredient("Tomato",i.Sprites.tomato,!1,0,-7,10),e}();t.Ingredients=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),n=function(){function e(){}return e.rawBurgerAdded=new i.Offence("That burger is so raw you can still hear it mooing!",17),e.rawEggAdded=new i.Offence("Are you really cracking open a raw egg on that burger?",17),e.wrongIngredientAdded=new i.Offence("The customer doesn't want that on their burger!",8),e.ingredientAlreadyAdded=new i.Offence("You already put that on the burger! That stuff costs money you know!",7),e.addBurgerBottomFirst=new i.Offence("Don't you think you should start with the bottom of the burger before adding toppings?",7),e.addBurgerTopLast=new i.Offence("What is your plan here? Add the top of the burger and then pour the remaining ingredients on top of it?",7),e.nonCookableIngredientCooked=new i.Offence("What is wrong with you? Who on earth grills that!",10),e.ingredientBurned=new i.Offence("You burned that {name}! You had one job and you can't even do that!",10),e.orderOvertime=new i.Offence("You took so long on an order the customer left! Pull yourself together or you're fired!",15),e.orderOverflow=new i.Offence("What are you doing back there!? Orders are overflowing!",8),e.orderOverflowContinue=new i.Offence("",4),e}();t.Offences=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Ok=0]="Ok",e[e.WrongIngredient=1]="WrongIngredient",e[e.IngredientAlreadyAdded=2]="IngredientAlreadyAdded",e[e.AddBurgerBottomFirst=3]="AddBurgerBottomFirst",e[e.AddBurgerTopLast=4]="AddBurgerTopLast"}(t.AddIngredientResult||(t.AddIngredientResult={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.NonCookable="Acceptable",e.Raw="Raw",e.Done="Cooked",e.Overcooked="Overcooked",e.Burned="Burned"}(t.CookState||(t.CookState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.text=e,this.cost=t}return e}();t.Offence=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(20),o=function(){function e(){}return e.loadSound=function(e){return new n.Sound(i.config.soundBasePath+"/"+e)},e.cook=e.loadSound("cook.wav"),e.ingredientAdded=e.loadSound("ingredient_added.wav"),e.orderCompleted=e.loadSound("order_completed.wav"),e.offence=e.loadSound("offence.wav"),e}();t.Sounds=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),n=r(14),o=r(22),s=r(15),d=r(16),a=r(18),u=r(11),h=r(19),c=r(2),g=r(1);window.gamePaused=!0,window.playSound=!0,window.easyMode=!1,(new(function(){function e(){this.lastFrameTimeMs=0,this.timestep=1e3/60,this.delta=0,this.frames=0,this.last=(new Date).getTime(),this.ticks=0,this.dialogueManager=new u.DialogueManager,this.playerStats=new a.PlayerStats(this.dialogueManager),this.orderManager=new d.OrderManager(this.playerStats),this.screen=new i.Screen,this.inputHandler=new n.InputHandler(this.screen),this.worldManager=new o.WorldManager(this.orderManager,this.inputHandler,this.dialogueManager,this.playerStats),this.resetGame=new h.ResetGame(this.playerStats,this.worldManager,this.orderManager)}return e.prototype.startGame=function(){this.tick(0)},e.prototype.tick=function(e){var t=this;for(this.delta+=e-this.lastFrameTimeMs,this.lastFrameTimeMs=e;this.delta>=this.timestep;){if(this.delta-=this.timestep,this.inputHandler.isPressingKey(s.Input.Pause)&&(this.inputHandler.releaseKey(s.Input.Pause),this.inputHandler.resetClick(),this.inputHandler.mouseX=void 0,this.inputHandler.mouseY=void 0,this.worldManager.selectedEntity=void 0,this.worldManager.selectedIngredient=void 0,this.dialogueManager.isShowingDialogue?this.dialogueManager.hideDialogue():window.gamePaused=!window.gamePaused),window.gamePaused||(this.dialogueManager.tick(this.screen,this.inputHandler,this.playerStats,this.resetGame),this.dialogueManager.isShowingDialogue||(this.playerStats.tick(),this.worldManager.tick(this.screen))),window.gamePaused){var r=this.inputHandler.clickX,i=this.inputHandler.clickY;if(r>=this.resumeGameButtonX()&&r<=this.resumeGameButtonX()+g.Sprites.button.width&&i>=this.resumeGameButtonY()&&i<=this.resumeGameButtonY()+g.Sprites.button.height)this.inputHandler.resetClick(),window.gamePaused=!1;else if(r>=this.backToMainMenuButtonX()&&r<=this.backToMainMenuButtonX()+g.Sprites.button.width&&i>=this.backToMainMenuButtonY()&&i<=this.backToMainMenuButtonY()+g.Sprites.button.height){this.inputHandler.resetClick(),window.gamePaused=!0,this.resetGame.reset();var n=new Event("restart");window.dispatchEvent(n)}}this.ticks++}this.render(),this.frames++;var o=(new Date).getTime();o-this.last>=1e3&&(this.last=o,this.frames=0,this.ticks=0),requestAnimationFrame(function(e){return t.tick(e)})},e.prototype.render=function(){if(this.worldManager.render(this.screen),c.Settings.easyMode()?this.screen.renderText("Completed orders: "+this.playerStats.ordersFinished,this.screen.width-200,this.screen.height-67,16,"#ffffff",void 0,600):this.screen.renderText("Score: "+this.playerStats.score,this.screen.width-100,this.screen.height-67,16,"#ffffff",void 0,600),this.renderFireMeter(),this.dialogueManager.render(this.screen,this.playerStats),this.playerStats.fireMeter<=0&&(this.screen.renderText("Your score: "+this.playerStats.score+", completed orders: "+this.playerStats.ordersFinished,this.screen.width/2-150,this.screen.height/2-100,18,"#ffffff",void 0,600),null!=localStorage.getItem("highscore")?+localStorage.getItem("highscore")>this.playerStats.score?this.screen.renderText("You did not beat your highscore of "+localStorage.getItem("highscore"),this.screen.width/2-163,this.screen.height/2-70,18,"#ffffff",void 0,600):this.screen.renderText("Congratulations! You beat your previous highscore of "+localStorage.getItem("highscore"),this.screen.width/2-235,this.screen.height/2-70,18,"#ffffff",void 0,600):this.playerStats.score>0&&this.screen.renderText("Congratulations! You beat your previous highscore of 0",this.screen.width/2-235,this.screen.height/2-70,18,"#ffffff",void 0,600)),window.gamePaused){var e=this.screen.width/2-60,t=this.screen.height/2-100;this.screen.renderRectangle(0,0,this.screen.width,this.screen.height,"#000000",.5),this.screen.renderText("Game paused",e,t,18,"#ffffff",void 0,600),this.screen.render(g.Sprites.button,this.resumeGameButtonX(),this.resumeGameButtonY()),this.screen.renderText("Resume game",this.resumeGameButtonX()+30,this.resumeGameButtonY()+28,16,"#000000",void 0,600),this.screen.render(g.Sprites.button,this.backToMainMenuButtonX(),this.backToMainMenuButtonY()),this.screen.renderText("Back to main menu",this.backToMainMenuButtonX()+11,this.backToMainMenuButtonY()+28,16,"#000000",void 0,600)}},e.prototype.renderFireMeter=function(){if(!c.Settings.easyMode()){var e=this.screen.width-330,t=this.screen.height-50,r=310,i=35;this.screen.renderText("Fired-o-meter:",e,t-17,16,"#ffffff",void 0,600),this.screen.renderRectangle(e,t,r,i,"#ffffff"),e+=2,t+=2,r-=4,i-=4,this.screen.renderRectangle(e,t,r,i,"#d30000"),r*=this.playerStats.fireMeter/100,this.screen.renderRectangle(e,t,r,i,"#00a12a")}},e.prototype.resumeGameButtonX=function(){return this.screen.width/2-60-25},e.prototype.resumeGameButtonY=function(){return this.screen.height/2-100+40},e.prototype.backToMainMenuButtonX=function(){return this.resumeGameButtonX()},e.prototype.backToMainMenuButtonY=function(){return this.resumeGameButtonY()+65},e}())).startGame()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=function(){function e(){this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.context.scale(i.config.renderScale,i.config.renderScale),this.width=this.canvas.width/i.config.renderScale,this.height=this.canvas.height/i.config.renderScale}return e.prototype.renderRectangle=function(e,t,r,i,n,o){void 0===n&&(n="#000000"),void 0===o&&(o=1),this.context.fillStyle=n,this.context.globalAlpha=o,this.context.fillRect(e,t,r,i),this.context.globalAlpha=1},e.prototype.render=function(e,t,r,i,n){if(void 0===i&&(i=1),void 0===n&&(n=void 0),void 0!==e&&e.loaded){var o=e.width*i,s=e.height*i;void 0!==n&&e.height>n&&(o*=n/e.height,s=n),this.context.drawImage(e.image,t,r,o,s)}},e.prototype.renderText=function(e,t,r,i,n,o,s){var d=this;if(void 0===i&&(i=8),void 0===n&&(n="#ffffff"),void 0===o&&(o=void 0),void 0===s&&(s=400),this.context.fillStyle=n,this.context.font=s+" "+i+"px Arial",void 0===o)return void this.context.fillText(e,t,r);var a=e.split(" "),u="",h=0;a.forEach(function(e){var n=u+(0!==u.length?" ":"")+e;if(d.context.measureText(n).width>o)return d.context.fillText(u,t,r+h),u=e,void(h+=1.2*i);u=n}),u.length>0&&this.context.fillText(u,t,r+h)},e}();t.Screen=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),n=function(){function e(){this.isShowingDialogue=!1,this.dialogueText="",this.minimumOpenDuration=30,this.openDuration=0}return e.prototype.tick=function(e,t,r,n){if(this.isShowingDialogue){if(++this.openDuration<this.minimumOpenDuration)return void t.resetClick();var o=this.getButtonRenderX(e),s=this.getButtonRenderY(e);if(t.clickX>=o&&t.clickX<=o+i.Sprites.button.width&&t.clickY>=s&&t.clickY<=s+i.Sprites.button.height&&(this.hideDialogue(),t.resetClick(),r.fireMeter<=0)){window.gamePaused=!0,n.reset();var d=new Event("restart");window.dispatchEvent(d)}}},e.prototype.render=function(e,t){if(this.isShowingDialogue){e.renderRectangle(0,0,e.width,e.height,"#000000",.5);var r=this.getRenderX(e),n=this.getRenderY(e);e.render(i.Sprites.dialogue,r,n,1.5),e.renderText(this.dialogueText,r+15,n+25,16,"#000000",270);var o=this.getButtonRenderX(e),s=this.getButtonRenderY(e);e.render(i.Sprites.button,o,s),e.renderText(t.fireMeter>0?"Click to continue":"Back to main menu",t.fireMeter>0?o+17:o+12,s+28,16,"#000000",void 0,600)}},e.prototype.showDialogue=function(e){this.dialogueText=e,this.isShowingDialogue=!0,this.openDuration=0},e.prototype.hideDialogue=function(){this.isShowingDialogue=!1},e.prototype.getRenderX=function(e){return e.width/2-1.5*i.Sprites.dialogue.width/2},e.prototype.getRenderY=function(e){return e.height/2-1.5*i.Sprites.dialogue.height/2},e.prototype.getButtonRenderX=function(e){return this.getRenderX(e)+1.5*i.Sprites.dialogue.width/2-i.Sprites.button.width/2},e.prototype.getButtonRenderY=function(e){return this.getRenderY(e)+1.5*i.Sprites.dialogue.height+10},e}();t.DialogueManager=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(3),o=r(7),s=r(4),d=r(5),a=r(1),u=r(6),h=function(){function e(e,t,r){this.ingredient=e,this.x=t,this.y=r,this.cookDuration=0,this.removed=!1}return e.prototype.render=function(e,t,r){var i=this.getCookState();if(t.selectedEntity===this){var n=r.mouseX-this.ingredient.sprite.width/2,o=r.mouseY-this.ingredient.sprite.height/2;e.render(this.ingredient.sprite,n,o),e.renderText(i.toString(),n,o+this.ingredient.sprite.height+14,13,this.getCookStateColor(i))}else e.render(this.ingredient.sprite,this.x,this.y),e.renderText(i.toString(),this.x,this.y+this.ingredient.sprite.height+14,13,this.getCookStateColor(i))},e.prototype.tick=function(e,t,r){if(e.selectedEntity!==this&&(this.cookDuration++,this.getCookState()===u.CookState.Burned)){this.removed=!0,e.burnedIngredientsWarning--;var h=new o.Offence("",s.Offences.ingredientBurned.cost);return e.burnedIngredientsWarning<=0&&(e.burnedIngredientsWarning=i.config.burnedIngredientsWarningCount,h=new o.Offence(s.Offences.ingredientBurned.text.replace("{name}",this.ingredient.name),s.Offences.ingredientBurned.cost)),void e.applyOffence(h)}if(void 0===e.selectedIngredient&&void 0===e.selectedEntity&&t.mousePressed&&t.mouseX>=this.x&&t.mouseX<=this.x+this.ingredient.sprite.width&&t.mouseY>=this.y&&t.mouseY<=this.y+this.ingredient.sprite.height&&(e.selectedEntity=this),void 0===e.selectedIngredient&&e.selectedEntity===this&&!t.mousePressed){var c=e.selectedEntity;e.selectedEntity=void 0,t.mouseY<=i.config.orderUiY&&r.orders.forEach(function(r,i){var o=20+150*i;if(t.mouseX>=o&&t.mouseX<=o+a.Sprites.plate.width&&t.mouseY>=10&&t.mouseY<=10+a.Sprites.plate.height){var h=c.getCookState(),g=r.canAddIngredient(c.ingredient);if(g===d.AddIngredientResult.AddBurgerBottomFirst||g===d.AddIngredientResult.AddBurgerTopLast)return void e.applyOffenceByAddedIngredientResult(g);if(!0===c.ingredient.shouldCook&&h!==u.CookState.Done&&h!==u.CookState.Overcooked)return void e.applyOffence(c.ingredient===n.Ingredients.hamburger?s.Offences.rawBurgerAdded:s.Offences.rawEggAdded);if(g!==d.AddIngredientResult.Ok)return void e.applyOffenceByAddedIngredientResult(g);r.addIngredient(c.ingredient,h),c.removed=!0}}),t.mouseY>i.config.orderUiY&&t.mouseY<i.config.ingredientUiY&&(this.x=t.mouseX-this.ingredient.sprite.width/2,this.y=t.mouseY-this.ingredient.sprite.height/2)}},e.prototype.getCookState=function(){return null===this.ingredient.shouldCook&&this.cookDuration<this.ingredient.cookDuration?u.CookState.NonCookable:this.cookDuration<this.ingredient.cookDuration?u.CookState.Raw:this.cookDuration>=this.ingredient.cookDuration&&this.cookDuration<2*this.ingredient.cookDuration?u.CookState.Done:this.cookDuration>=this.ingredient.cookDuration&&this.cookDuration<2.7*this.ingredient.cookDuration?u.CookState.Overcooked:u.CookState.Burned},e.prototype.getCookStateColor=function(e){switch(e){case u.CookState.Raw:case u.CookState.NonCookable:return"#ffffff";case u.CookState.Done:return"#00c12a";case u.CookState.Overcooked:return"#ff7e23";case u.CookState.Burned:return"#f50000"}},e}();t.Entity=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),this.name=e,this.sprite=t,this.shouldCook=r,this.cookDuration=i,this.renderOffsetX=n,this.renderOffsetY=o}return e}();t.Ingredient=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.screen=e,this.keysPressed=new Array,this.keyEvent("keydown"),this.keyEvent("keyup"),this.mouseEvent("mousedown"),this.mouseEvent("mousemove"),this.mouseEvent("mouseup"),this.mouseEvent("click")}return e.prototype.keyEvent=function(e){var t=this,r="keydown"==e;window.addEventListener(e,function(e){e.preventDefault(),t.keysPressed[e.key]=r})},e.prototype.mouseEvent=function(e){var t=this;this.screen.canvas.addEventListener(e,function(e){if("click"===e.type)return t.clickX=e.offsetX,void(t.clickY=e.offsetY);t.mouseX=e.offsetX,t.mouseY=e.offsetY,"mousemove"!==e.type&&(t.mousePressed="mousedown"===e.type)})},e.prototype.isPressingKey=function(e){return this.keysPressed[e]},e.prototype.releaseKey=function(e){this.keysPressed[e]=!1},e.prototype.resetClick=function(){this.clickX=-1,this.clickY=-1},e}();t.InputHandler=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.KeyUp="ArrowUp",e.KeyDown="ArrowDown",e.KeyLeft="ArrowLeft",e.KeyRight="ArrowRight",e.Key1="1",e.Key2="2",e.Key3="3",e.Pause="Escape"}(t.Input||(t.Input={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(3),o=r(4),s=r(2),d=r(1),a=r(17),u=function(){function e(e){this.playerStats=e,this.orders=new Array,this.lastOrder=0,this.orderOverflowWarning=!1;for(var t=0;t<i.config.order.initialOrders;t++)this.addNewOrder()}return e.prototype.tick=function(e){this.lastOrder++,this.nextOrderIsUp()&&(this.addNewOrder(),!s.Settings.easyMode()&&this.orders.length>i.config.order.maxVisibleOrders&&e.applyOffence(o.Offences.orderOverflowContinue)),s.Settings.easyMode()||(this.orders.length>i.config.order.maxVisibleOrders&&!this.orderOverflowWarning&&(this.orderOverflowWarning=!0,e.applyOffence(o.Offences.orderOverflow)),this.orders.length<=i.config.order.maxVisibleOrders&&this.orderOverflowWarning&&(this.orderOverflowWarning=!1),this.orders.forEach(function(t,r){r+1>i.config.order.maxVisibleOrders||(t.orderTime>0&&t.orderTime--,t.orderTime<=0&&e.applyOffence(o.Offences.orderOvertime))}))},e.prototype.render=function(e){if(this.orders.forEach(function(t,r){if(!(r+1>i.config.order.maxVisibleOrders)){var n=20+150*r,o=10,a=0,u=n,h=15+d.Sprites.plate.height;e.render(d.Sprites.plate,n,o),s.Settings.easyMode()||(e.renderRectangle(n,7,d.Sprites.plate.width,18,"#ffffff"),e.renderRectangle(n+1,8,d.Sprites.plate.width-2,16,"#d30000"),e.renderRectangle(n+1,8,(d.Sprites.plate.width-2)*(t.orderTime/t.initialOrderTime),16,"#00a12a"),e.renderText("Time left",n+38,21,14)),t.requiredIngredients.forEach(function(r){e.render(r.sprite,u+i.config.order.indicatorIngredientSpacing,h,1,i.config.order.indicatorIngredientMaxHeight),t.isIngredientAdded(r)&&e.render(d.Sprites.check,u+i.config.order.indicatorIngredientSpacing,h),r.sprite.height>i.config.order.indicatorIngredientMaxHeight?u+=i.config.order.indicatorIngredientSpacing+r.sprite.width*(i.config.order.indicatorIngredientMaxHeight/r.sprite.height):u+=i.config.order.indicatorIngredientSpacing+r.sprite.width,++a===i.config.order.indicatorMaxPerRow&&(a=0,u=n,h+=i.config.order.indicatorIngredientMaxHeight+i.config.order.indicatorIngredientSpacing)}),t.addedIngredients.forEach(function(t){e.render(t.sprite,n+t.renderOffsetX+d.Sprites.plate.width/2-t.sprite.width/2,o+t.renderOffsetY+d.Sprites.plate.height/2-t.sprite.height/2)})}}),this.orders.length>i.config.order.maxVisibleOrders){var t=this.orders.length-i.config.order.maxVisibleOrders;e.renderText("+ "+t+" more orders",e.width-90,80,16,"#ffffff",100,600)}},e.prototype.reset=function(){this.orders=new Array,this.lastOrder=0,this.orderOverflowWarning=!1;for(var e=0;e<i.config.order.initialOrders;e++)this.addNewOrder()},e.prototype.addNewOrder=function(){this.orders.push(this.getNewOrder()),this.lastOrder=0},e.prototype.getNewOrder=function(){var e=this,t=n.Ingredients.getIngredients(),r=new Array;return t=t.filter(function(t){return t!==n.Ingredients.burgerTop&&t!==n.Ingredients.burgerBottom&&t!==n.Ingredients.hamburger&&e.shouldAddIngredient()}),r.push(n.Ingredients.burgerBottom),r.push(n.Ingredients.hamburger),r=r.concat(t),r.push(n.Ingredients.burgerTop),new a.Order(this.playerStats,r)},e.prototype.nextOrderIsUp=function(){return!(this.lastOrder<i.config.order.minimumOrderDelay)&&(this.playerStats.level>=33||Math.random()*(500-15*this.playerStats.level)<=2)},e.prototype.shouldAddIngredient=function(){return this.playerStats.level<=5?4*Math.random()<=1:this.playerStats.level<=10?3*Math.random()<=1:this.playerStats.level<=15?5*Math.random()<=2:this.playerStats.level<=20?6*Math.random()<=3:this.playerStats.level<=25?7*Math.random()<=4:10*Math.random()<=6},e}();t.OrderManager=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),n=r(3),o=r(8),s=r(5),d=function(){function e(e,t){this.playerStats=e,this.requiredIngredients=t,this.addedIngredients=new Array,this.orderCompleted=!1,this.orderScore=0,this.initialOrderTime=e.orderTime,this.orderTime=e.orderTime}return e.prototype.canAddIngredient=function(e){return 0===this.addedIngredients.length&&e.name!==n.Ingredients.burgerBottom.name?s.AddIngredientResult.AddBurgerBottomFirst:this.addedIngredients.length<this.requiredIngredients.length-1&&e===n.Ingredients.burgerTop?s.AddIngredientResult.AddBurgerTopLast:this.requiredIngredients.some(function(t){return t===e})?this.isIngredientAdded(e)?s.AddIngredientResult.IngredientAlreadyAdded:s.AddIngredientResult.Ok:s.AddIngredientResult.WrongIngredient},e.prototype.addIngredient=function(e,t){if(void 0===t&&(t=i.CookState.NonCookable),this.addedIngredients.push(e),this.orderScore++,!0===e.shouldCook&&t===i.CookState.Done&&(this.orderScore+=2),null===e.shouldCook&&t===i.CookState.Done&&(this.orderScore+=3),null===e.shouldCook&&t===i.CookState.Overcooked&&(this.orderScore+=1),this.addedIngredients.length===this.requiredIngredients.length){var r=1;this.addedIngredients.length>4&&(this.orderScore+=1,r=2),this.addedIngredients.length>=n.Ingredients.getIngredients().length&&(this.orderScore+=1,r=3),this.orderCompleted=!0,this.playerStats.addFinishedOrder(r),this.playerStats.addScore(this.orderScore),o.Sounds.orderCompleted.play()}else o.Sounds.ingredientAdded.play()},e.prototype.isIngredientAdded=function(e){return this.addedIngredients.some(function(t){return t===e})},e}();t.Order=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=function(){function e(e){this.dialogueManager=e,this.ordersFinished=0,this.score=0,this.fireMeter=100,this.level=0,this.elapsedTicks=0,this.orderTime=i.config.order.defaultOrderTime}return e.prototype.tick=function(){++this.elapsedTicks<i.config.increaseLevelTickCount||(this.elapsedTicks=0,this.level++,this.orderTime-=i.config.order.decreaseOrderCountPerLevel,this.orderTime<i.config.order.minimumOrderTime&&(this.orderTime=i.config.order.minimumOrderTime))},e.prototype.lowerFireMeter=function(e){this.fireMeter-=e,this.fireMeter<=0&&(this.fireMeter=0,this.dialogueManager.showDialogue("I HAVE HAD ENOUGH OF YOU! GET OUT OF MY KITCHEN! YOU ARE ABSOLUTELY USELESS!"))},e.prototype.upFireMeter=function(e){this.fireMeter+=e,this.fireMeter>100&&(this.fireMeter=100)},e.prototype.addScore=function(e){this.score+=e},e.prototype.addFinishedOrder=function(e){void 0===e&&(e=1),this.ordersFinished++,this.upFireMeter(e)},e.prototype.reset=function(){this.ordersFinished=0,this.score=0,this.fireMeter=100,this.level=0,this.elapsedTicks=0,this.orderTime=i.config.order.defaultOrderTime},e}();t.PlayerStats=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),n=function(){function e(e,t,r){this.playerStats=e,this.worldManager=t,this.orderManager=r}return e.prototype.reset=function(){if(!i.Settings.easyMode())if(null!=localStorage.getItem("highscore")){var e=+localStorage.getItem("highscore");this.playerStats.score>e&&localStorage.setItem("highscore",""+this.playerStats.score)}else localStorage.setItem("highscore",""+this.playerStats.score);this.playerStats.reset(),this.worldManager.reset(),this.orderManager.reset()},e}();t.ResetGame=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),n=function(){function e(e){var t=this;this.clip=new Audio(e),this.clip.oncanplay=function(){t.loaded=!0}}return e.prototype.play=function(){this.loaded&&i.Settings.sound()&&this.clip.play()},e}();t.Sound=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=this;this.image=new Image,this.image.src=e,this.image.onload=function(){t.width=t.image.width,t.height=t.image.height,t.loaded=!0}}return e}();t.Sprite=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),n=r(12),o=r(3),s=r(4),d=r(5),a=r(2),u=r(8),h=r(1),c=function(){function e(e,t,r,i){this.orderManager=e,this.inputHandler=t,this.dialogueManager=r,this.playerStats=i,this.entities=new Array,this.burnedIngredientsWarning=0}return e.prototype.tick=function(e){var t=this,r=20;if(this.orderManager.tick(this),void 0===this.selectedEntity&&void 0===this.selectedIngredient&&this.inputHandler.mousePressed)for(var a=this.inputHandler.mouseX,c=this.inputHandler.mouseY,g=0,l=o.Ingredients.getIngredients();g<l.length;g++){var f=l[g],p=r+f.sprite.width+15,m=r-15,y=e.height-85+(i.config.ingredientSlotHeight-f.sprite.height)/2-15,v=y+f.sprite.height+30;if(a>=m&&a<=p&&c>=y&&c<=v){this.selectedIngredient=f;break}r+=f.sprite.width+30}if(void 0===this.selectedEntity&&void 0!==this.selectedIngredient&&!this.inputHandler.mousePressed){var w=this.selectedIngredient;if(this.selectedIngredient=void 0,this.inputHandler.mouseY<=i.config.orderUiY)return void this.orderManager.orders.forEach(function(e,r){var i=20+150*r;if(t.inputHandler.mouseX>=i&&t.inputHandler.mouseX<=i+h.Sprites.plate.width&&t.inputHandler.mouseY>=10&&t.inputHandler.mouseY<=10+h.Sprites.plate.height){var n=e.canAddIngredient(w);if(n===d.AddIngredientResult.AddBurgerBottomFirst||n===d.AddIngredientResult.AddBurgerTopLast)return void t.applyOffenceByAddedIngredientResult(n);if(!0===w.shouldCook)return void t.applyOffence(w===o.Ingredients.hamburger?s.Offences.rawBurgerAdded:s.Offences.rawEggAdded);if(n!==d.AddIngredientResult.Ok)return void t.applyOffenceByAddedIngredientResult(n);e.addIngredient(w)}});if(this.inputHandler.mouseY>=i.config.ingredientUiY)return;if(!1===w.shouldCook)return void this.applyOffence(s.Offences.nonCookableIngredientCooked);this.addEntity(new n.Entity(w,this.inputHandler.mouseX-w.sprite.width/2,this.inputHandler.mouseY-w.sprite.height/2)),u.Sounds.cook.play()}if(this.entities.forEach(function(e){e.tick(t,t.inputHandler,t.orderManager)}),this.entities=this.entities.filter(function(e){return!1===e.removed}),this.orderManager.orders=this.orderManager.orders.filter(function(e){return!1===e.orderCompleted&&e.orderTime>0}),0===this.orderManager.orders.length){for(var S=0;S<i.config.order.initialOrders;S++)this.orderManager.addNewOrder();this.playerStats.addScore(50),this.playerStats.upFireMeter(8),this.playerStats.level+=3}},e.prototype.render=function(e){var t=this,r=20;e.render(h.Sprites.game,0,0),this.orderManager.render(e),o.Ingredients.getIngredients().forEach(function(t){var n=e.height-85+(i.config.ingredientSlotHeight-t.sprite.height)/2;e.render(t.sprite,r,n),e.renderText(t.name,r,e.height-10,12),r+=t.sprite.width+30}),this.entities.forEach(function(r){r.render(e,t,t.inputHandler)}),void 0!==this.selectedIngredient&&e.render(this.selectedIngredient.sprite,this.inputHandler.mouseX-this.selectedIngredient.sprite.width/2,this.inputHandler.mouseY-this.selectedIngredient.sprite.height/2)},e.prototype.applyOffenceByAddedIngredientResult=function(e){if(e!==d.AddIngredientResult.Ok){var t;e===d.AddIngredientResult.IngredientAlreadyAdded&&(t=s.Offences.ingredientAlreadyAdded),e===d.AddIngredientResult.WrongIngredient&&(t=s.Offences.wrongIngredientAdded),e===d.AddIngredientResult.AddBurgerBottomFirst&&(t=s.Offences.addBurgerBottomFirst),e===d.AddIngredientResult.AddBurgerTopLast&&(t=s.Offences.addBurgerTopLast),this.applyOffence(t)}},e.prototype.applyOffence=function(e){u.Sounds.offence.play(),a.Settings.easyMode()||(this.playerStats.lowerFireMeter(e.cost),0!==e.text.length&&this.playerStats.fireMeter>0&&(this.selectedEntity=void 0,this.selectedIngredient=void 0,this.inputHandler.resetClick(),this.inputHandler.mousePressed=!1,this.inputHandler.mouseX=void 0,this.inputHandler.mouseY=void 0,this.dialogueManager.showDialogue(e.text)))},e.prototype.removeEntity=function(e){this.entities.some(function(t){return e(t)})&&(this.entities=this.entities.filter(function(t){return!e(t)}))},e.prototype.addEntity=function(e){this.entities.push(e)},e.prototype.reset=function(){this.selectedEntity=void 0,this.selectedIngredient=void 0,this.entities=new Array,this.burnedIngredientsWarning=0},e}();t.WorldManager=c},function(e,t,r){e.exports=r(9)}])});